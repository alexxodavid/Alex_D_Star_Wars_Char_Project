(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();const h=document.getElementById("search-input"),u=document.getElementById("results"),s=document.getElementById("popup-dialog"),d=document.getElementById("character-title"),a=document.getElementById("dialog-content"),f=document.getElementById("close-dialog");function p(n){const e=n.map(o=>`<li><a data-url="${o.url}">${o.name}</a></li>`).join(" ");u.innerHTML=`<ul class="characters">${e}</ul>`,document.querySelectorAll(".characters a").forEach(o=>{o.addEventListener("click",()=>{const t=o.getAttribute("data-url");m(t)})})}function l(){u.innerHTML="<ul class='characters'><li>The characters you seek are not here</li></ul>"}function m(n){s.showModal(),fetch(n).then(e=>e.json()).then(e=>{d.innerText=e.name,a.innerHTML=`
        <p><strong>Height:</strong> ${e.height}</p>
        <p><strong>Mass:</strong> ${e.mass}</p>
        <p><strong>Gender:</strong> ${e.gender}</p>
      `}).catch(()=>{a.innerHTML="Failed to load data."})}s.addEventListener("click",n=>{n.target===s&&s.close()});s.addEventListener("close",()=>{d.innerText="",a.innerHTML="Loading..."});f.addEventListener("click",()=>{s.close()});document.addEventListener("DOMContentLoaded",()=>{fetch("https://swapi.py4e.com/api/people").then(n=>n.json()).then(n=>{n.count>=1?p(n.results):l()}).catch(()=>l())});async function g(n){const e=await fetch(`https://swapi.py4e.com/api/people?search=${n}`).then(c=>c.json());e.count>=1?p(e.results):l()}function y(n,e){let c;return function(...o){const t=this;clearTimeout(c),c=setTimeout(()=>{n.apply(t,o)},e)}}const L=y(g,500);h.addEventListener("input",function(n){const e=n.target.value;e.length>=1&&L(e)});
